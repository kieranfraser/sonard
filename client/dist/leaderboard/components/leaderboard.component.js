"use strict";var __decorate=this&&this.__decorate||function(e,o,t,r){var a,n=arguments.length,d=3>n?o:null===r?r=Object.getOwnPropertyDescriptor(o,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(e,o,t,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(d=(3>n?a(d):n>3?a(o,t,d):a(o,t))||d);return n>3&&d&&Object.defineProperty(o,t,d),d},__metadata=this&&this.__metadata||function(e,o){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,o):void 0},__param=this&&this.__param||function(e,o){return function(t,r){o(t,r,e)}},core_1=require("@angular/core"),dashboard_component_1=require("../../player/components/dashboard.component"),LeaderBoardComponent=function(){function e(e){this._parent=e,this.leaderboard=[]}return e.prototype.ngOnInit=function(){this._parent.getFirebase().database().ref("singleLeaderboard").on("value",function(e){console.log(e.val()),this.leaderboard=[],this.populateLeaderboard(e.val().leaderboard)}.bind(this))},e.prototype.populateLeaderboard=function(e){for(var o in e)console.log(o),console.log(e[o]),console.log(e[o].id),this._parent.getFirebase().database().ref("users/"+e[o].id).once("value").then(function(e,o,t){console.log(t.val());var r=t.val().username;this.leaderboard.push({name:r,result:o[e].result}),console.log("leaderboard - unsorted"),console.log(this.leaderboard),this.leaderboard.sort(function(e,o){return o.member-e.member}),console.log("leaderboard - sorted"),console.log(this.leaderboard)}.bind(this,o,e))},e=__decorate([core_1.Component({selector:"leaderboard-cmp",templateUrl:"leaderboard/templates/leaderboard-component.html",styleUrls:["leaderboard/styles/leaderboard.css"]}),__param(0,core_1.Inject(core_1.forwardRef(function(){return dashboard_component_1.DashboardComponent}))),__metadata("design:paramtypes",[dashboard_component_1.DashboardComponent])],e)}();exports.LeaderBoardComponent=LeaderBoardComponent;