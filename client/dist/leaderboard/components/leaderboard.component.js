"use strict";var __decorate=this&&this.__decorate||function(e,t,o,r){var a,n=arguments.length,d=3>n?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(d=(3>n?a(d):n>3?a(t,o,d):a(t,o))||d);return n>3&&d&&Object.defineProperty(t,o,d),d},__metadata=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},__param=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}},core_1=require("@angular/core"),dashboard_component_1=require("../../player/components/dashboard.component"),LeaderBoardComponent=function(){function e(e){this._parent=e,this.leaderboard=[]}return e.prototype.ngOnInit=function(){this._parent.getFirebase().database().ref("singleLeaderboard").on("value",function(e){console.log(e.val()),this.leaderboard=[],this.populateLeaderboard(e.val())}.bind(this))},e.prototype.populateLeaderboard=function(e){for(var t in e)this._parent.getFirebase().database().ref("users/"+t).once("value").then(function(t){console.log(t.val());var o=t.val().username;this.leaderboard.push({name:o,result:e.result}),console.log("leaderboard - unsorted"),console.log(this.leaderboard),this.leaderboard.sort(function(e,t){return t.member-e.member}),console.log("leaderboard - sorted"),console.log(this.leaderboard)}.bind(this))},e=__decorate([core_1.Component({selector:"leaderboard-cmp",templateUrl:"leaderboard/templates/leaderboard-component.html",styleUrls:["leaderboard/styles/leaderboard.css"]}),__param(0,core_1.Inject(core_1.forwardRef(function(){return dashboard_component_1.DashboardComponent}))),__metadata("design:paramtypes",[dashboard_component_1.DashboardComponent])],e)}();exports.LeaderBoardComponent=LeaderBoardComponent;