"use strict";var __decorate=this&&this.__decorate||function(o,e,t,r){var i,c=arguments.length,n=3>c?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,e,t,r);else for(var s=o.length-1;s>=0;s--)(i=o[s])&&(n=(3>c?i(n):c>3?i(e,t,n):i(e,t))||n);return c>3&&n&&Object.defineProperty(e,t,n),n},__metadata=this&&this.__metadata||function(o,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(o,e):void 0},__param=this&&this.__param||function(o,e){return function(t,r){e(t,r,o)}},core_1=require("@angular/core"),common_1=require("@angular/common"),todo_service_1=require("../services/todo-service"),TodoCmp=function(){function o(o,e){this._todoService=e,this.title="ng2do",this.todos=[],this.todoForm=o.group({todoMessage:["",common_1.Validators.required]})}return o.prototype.ngOnInit=function(){this._getAll()},o.prototype._getAll=function(){var o=this;this._todoService.getAll().subscribe(function(e){o.todos=e})},o.prototype.add=function(o){var e=this;this._todoService.add(o).subscribe(function(o){e.todos.push(o),e.todoForm.controls.todoMessage.updateValue("")})},o.prototype.remove=function(o){var e=this;this._todoService.remove(o).subscribe(function(){e.todos.forEach(function(t,r){return t._id===o?e.todos.splice(r,1):void 0})})},o=__decorate([core_1.Component({selector:"todo-cmp",templateUrl:"todo/templates/todo.html",styleUrls:["todo/styles/todo.css"],providers:[todo_service_1.TodoService]}),__param(0,core_1.Inject(common_1.FormBuilder)),__param(1,core_1.Inject(todo_service_1.TodoService)),__metadata("design:paramtypes",[common_1.FormBuilder,todo_service_1.TodoService])],o)}();exports.TodoCmp=TodoCmp;