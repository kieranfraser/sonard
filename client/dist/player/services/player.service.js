"use strict";var __decorate=this&&this.__decorate||function(e,t,a,r){var s,i=arguments.length,o=3>i?t:null===r?r=Object.getOwnPropertyDescriptor(t,a):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,r);else for(var n=e.length-1;n>=0;n--)(s=e[n])&&(o=(3>i?s(o):i>3?s(t,a,o):s(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},__metadata=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},core_1=require("@angular/core"),PlayerService=function(){function e(){var e={apiKey:"AIzaSyA1E0hp_78RcMgHWj7Vpbg6AkHzT2hZfto",authDomain:"sonar-11442.firebaseapp.com",databaseURL:"https://sonar-11442.firebaseio.com",storageBucket:"sonar-11442.appspot.com"};firebase.initializeApp(e),localStorage.setItem("firebase",firebase)}return e.prototype.createNewUser=function(e,t){firebase.database().ref("users/"+e.id).set({username:e.name}),this.updateExistingUser(e,t)},e.prototype.addUser=function(e){return firebase.database().ref("users/"+e.id).set({username:e.name})},e.prototype.updateExistingUser=function(e,t){firebase.database().ref("users/"+e.id).update({currentTeam:t}),firebase.database().ref("users/"+e.id+"/teams/"+t).set({member:!0})},e.prototype.getFirebaseDB=function(){return firebase},e.prototype.createNewTeamAndAddUser=function(e,t){var a=firebase.database().ref("teams"),r=a.push({teamName:"create a team name"}).key;console.log("key"),console.log(r),firebase.database().ref("teams/"+r+"/members/"+e.id).set({member:!0}),t?this.updateExistingUser(e,r):(console.log("new"),this.createNewUser(e,r))},e.prototype.addUserToExistingTeam=function(e,t,a){firebase.database().ref("teams/"+t+"/members/"+e.id).set({member:!0}),a?this.updateExistingUser(e,t):this.createNewUser(e,t)},e=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],e)}();exports.PlayerService=PlayerService;